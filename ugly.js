a.width=a.height=640;a.style.width="320px";c.scale(2,2);k=n=[];s=u=w=z=0;o=1;y=240;S=((a,x,y,w,s=320)=>{[...a.replace(/(\w)(\d+)/g,(_,q,r)=>q.repeat(r))].map((j,i)=>{q=i%w;h="213ca8457fd5ffb68a79b".match(/.../g)[j.charCodeAt(0)-97];c.fillStyle="#"+h;h&&c.fillRect(~~(x+q*s),~~(y+~~(i/w)*s),s,s)})});T=(e=>{if(k[83]){k=n=[];s=u=w=z=0;o=1;y=240}l=(e-t)/1e3;u+=l;t=e;if(o){if(u>1){h=0|Math.random()*3;i=0|Math.random()*5;u=0;[...h?"1":"123"].map($=>n.push([320+30*$,i*40,h>1?100:20,h==1?100:20,h]))}z+=l*10;k[32]?w=-180:w}w+=960*l;y+=w*l;if(y>=240){y=240;w=0}if(y<0){y=w=0}S("fgf",z*-10%640,0,3);f=[];n.map(e=>{e[0]-=120*l*o;[h,i,j,q,r]=e;60<h+j&&90>h&&y<i+q&&30+y>i&&o?r?(f.push(e),o=0):s++:f.push(e);S(["xd2xde2d2e2dxd2","xa2xc8xdex2dex2dex2dex2dex2dex2dex2dex2dex2dex2dex2dex2dex2dexc8xa2","xc2x14c2xac2d14c2a2c2e14c2axc2x14c2"][r],h,i,r>1?20:4,5)});n=f;S(["x2a3x3abx4b3x2abcx3abcx4c2x3ac2x4a2","x2a3x3abx4b3x2abcx3acbx4c2xaxc3ax2a2","x3ax4a2x4abx4b3x2abcx3abcx4c3x2a2xa2","x2a3x3abx4b3x2abcx3bc2x4c2x2ac4xax2a2","x2a3x3abx4b3x2abcx3abcx3dc2x3ec2x4a2","x2e2x4e2x2e9e3x2e2x4e2x4e2x4e2"][o?k[32]?4:w?2:~~z%4:5],60,y,6,5);S("ce",0,280,1);c.fillText(s,10,20);requestAnimationFrame(T)});T(t=0);onkeyup=onkeydown=(e=>k[e.which]=e.type[5]);